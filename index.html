<!-- FILE: index.html (unchanged except for your current content) -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Error Report QR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <meta name="theme-color" content="#0ea5e9" />
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <div class="wrap">
      <div class="title">Error Reports</div>

<!-- Scan / Upload -->
<div class="card">
  <div class="row" style="align-items:center; justify-content:space-between;">
    <div>
      <div class="label">Step 1 — Scan or Upload QR</div>
      <div class="muted">This sets the Order No. First scan, then fill the report.</div>
    </div>
    <div class="row" style="gap:8px">
      <button id="startScan" class="btn">Start Scan</button>
      <button id="stopScan"  class="btn outline">Stop</button>
    </div>
  </div>
  <div id="qr-region" style="margin-top:10px"></div>
  <div class="sp"></div>
  <div class="row">
    <div class="col">
      <div class="label">Order No</div>
      <input id="orderNo" class="input" placeholder="OR-YYYY-XXXXXX" />
      <div class="muted">Filled by QR or manually.</div>
    </div>
    <div class="col" style="align-self:flex-end">
      <button id="clearOrder" class="btn danger" disabled>Clear</button>
    </div>
  </div>
</div>

<div class="sp"></div>

<!-- Error Report form -->
<!-- Hidden by default; shown only after Order No is set -->
<div id="formCard" class="card" style="display:none">
  <div class="label">Step 2 — Add Error Report</div>
  <div class="sp"></div>
  <form id="form">
    <div class="row">
      <div class="col">
        <div class="label">Category</div>
        <select id="category"></select>
      </div>
      <div class="col">
        <div class="label">Sub-category</div>
        <select id="subCategory"></select>
      </div>
    </div>

    <div class="sp"></div>

    <div>
      <div class="label">Description</div>
      <textarea id="desc" rows="3" class="input" placeholder="Describe the issue…"></textarea>
    </div>

    <div class="sp"></div>

    <div class="row" style="align-items:flex-end">
      <div class="col">
        <div class="label">Photo (optional)</div>
        <input id="photo" type="file" accept="image/*" class="input" />
        <div class="sp"></div>
        <img id="preview" alt="" style="display:none; max-width:100%; border-radius:8px; border:1px dashed #e5e7eb" />
      </div>
      <div class="col" style="text-align:right">
        <button id="submitBtn" class="btn" disabled>Add Error Report</button>
      </div>
    </div>
  </form>
  <div class="hr"></div>
  <div id="msg" class="muted"></div>
</div>


      <div class="sp"></div>
      <div class="center muted">PWA ready • UI offline; network required to save reports.</div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
